!function(b){var d=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.leapSlide.defaults,c);this._init();document.removeEventListener(this.options.event,handleBodyKeyDown,!1);b(document).on(this.options.event,handleBodyKeyDown)};d.prototype={constructor:d,_init:function(){var a=b.proxy(this.gestureHandler,this);Leap.loop({enableGestures:!0},function(b){b.gestures.forEach(a)});this.arr=[0];this.transitioning=!1;this.timer=void 0;b.support.transition={end:"webkitTransitionEnd"};this.createArrow()},
createArrow:function(){b("<div class='arrow'>").append("<div class='arrow-triangle'>").append("<div class='arrow-rectangle'>").append("<div class='arrow-trailing'>").append("<div class='arrow-trailing'>").appendTo("body")},navigate:function(a){this.locked()||(this.onBoundary(a)||this.swipeBusted(a))||(this.resetSwipeBuster(a),this.lock(a),this.$element.trigger(b.Event(this.options.event,{keyCode:38+a})))},locked:function(){return this.transitioning},onBoundary:function(a){return-1==a&&0>=curSlide||
1==a&&curSlide>=slideEls.length-1},swipeBusted:function(a){return a==-this.lastDirection},resetSwipeBuster:function(a){var c=b(".arrow");this.lastDirection=a;clearTimeout(this.timer);c.stop(!0,!0);c.show().addClass(1==a?"arrow-left":"arrow-right").appendTo(".current");this.timer=window.setTimeout(b.proxy(function(){this.lastDirection=null},this),this.options.timeout);c.fadeOut(this.options.timeout,function(){b(this).removeClass("arrow-right arrow-left")})},lock:function(a){this.transitioning=!0;b(".current").one(b.support.transition.end,
b.proxy(function(){this.transitioning=!1},this))},gestureHandler:function(a){function b(a){return a.reduce(function(a,b){return a+b})}if("swipe"==a.type)switch(a.state){case "start":this.arr=[0];break;case "update":this.arr.push(a.direction[0]);break;case "stop":a=0<b(this.arr)?-1:1,this.navigate(this.options.reversed?-a:a)}}};b.fn.leapSlide=function(a){Array.prototype.slice.call(arguments);return this.each(function(){var c=b(this),e=c.data("leapSlide"),f=b.extend({},b.fn.leapSlide.defaults,c.data(),
"object"==typeof a&&a);e||c.data("leapSlide",e=new d(this,f));if("string"==typeof a)e[a]()})};b.fn.leapSlide.defaults={timeout:1500,reversed:!1,event:"keydown"};b.fn.leapSlide.Constructor=d}(window.jQuery);$(function(){$(document).leapSlide()});